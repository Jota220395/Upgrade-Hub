{"ast":null,"code":"var _jsxFileName = \"/home/jota/upgradehub/MERN/app-front-react/src/componentes/listarUsuarios.js\";\nimport React, { Component } from 'react';\n/* como hemos importado el componente directamente, no hace falta poner abajo React.Component\n */\n\nclass ListarUsuarios extends Component {\n  componentDidMount() {\n    this.state = null; //aunk es redundante\n\n    let promesaHTTP = window.fetch('http://127.0.0.1:4000/api/usuarios/');\n    promesaHTTP.then(res => {\n      let promesaJSON = res.json(); //cuando por fin recibimos la coleccion y ha sido convertido en JSON\n\n      promesaJSON.then(objColeccionUsu => {\n        console.log(JSON.stringify(objColeccionUsu));\n        this.setState({\n          listarUsuarios: objColeccionUsu\n        });\n      });\n    });\n  }\n\n  componentWillUnmount() {//Aki se ejecuta cuando se desmonta el componente\n  }\n\n  render() {\n    //TODO: Condicional, si\n    let objViDomJSX;\n\n    if (this.state === null) {\n      //si todo va bien\n      objViDomJSX = React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, \"Cargando...\");\n    } else {\n      let filasTr = this.state.listarUsuarios.map(usu => React.createElement(\"tr\", {\n        key: usu._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, usu.nombre), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, usu.email)));\n      objViDomJSX = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Lista de usuarios\"), React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Nombre\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Email\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, filasTr)));\n    }\n\n    ;\n    return objViDomJSX;\n  }\n\n}\n\nexport default ListarUsuarios;","map":{"version":3,"sources":["/home/jota/upgradehub/MERN/app-front-react/src/componentes/listarUsuarios.js"],"names":["React","Component","ListarUsuarios","componentDidMount","state","promesaHTTP","window","fetch","then","res","promesaJSON","json","objColeccionUsu","console","log","JSON","stringify","setState","listarUsuarios","componentWillUnmount","render","objViDomJSX","filasTr","map","usu","_id","nombre","email"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA;;;AAEA,MAAMC,cAAN,SAA6BD,SAA7B,CAAsC;AAElCE,EAAAA,iBAAiB,GAAE;AACf,SAAKC,KAAL,GAAW,IAAX,CADe,CACE;;AAEjB,QAAIC,WAAW,GAAGC,MAAM,CAACC,KAAP,CAAa,qCAAb,CAAlB;AACAF,IAAAA,WAAW,CAACG,IAAZ,CAAkBC,GAAD,IAAS;AACtB,UAAIC,WAAW,GAAGD,GAAG,CAACE,IAAJ,EAAlB,CADsB,CAEtB;;AACAD,MAAAA,WAAW,CAACF,IAAZ,CAAkBI,eAAD,IAAmB;AAC3BC,QAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,eAAf,CAAZ;AACA,aAAKK,QAAL,CAAc;AACVC,UAAAA,cAAc,EAACN;AADL,SAAd;AAGR,OALD;AAMH,KATD;AAWH;;AACDO,EAAAA,oBAAoB,GAAE,CACd;AACP;;AACDC,EAAAA,MAAM,GAAE;AAEJ;AACA,QAAIC,WAAJ;;AACA,QAAG,KAAKjB,KAAL,KAAa,IAAhB,EAAqB;AAAI;AACrBiB,MAAAA,WAAW,GAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAf;AACH,KAFD,MAEM;AAEF,UAAIC,OAAO,GAAG,KAAKlB,KAAL,CAAWc,cAAX,CAA0BK,GAA1B,CAA+BC,GAAD,IAEnC;AAAI,QAAA,GAAG,EAAEA,GAAG,CAACC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKD,GAAG,CAACE,MAAT,CADX,EAEW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKF,GAAG,CAACG,KAAT,CAFX,CAFK,CAAd;AAOAN,MAAAA,WAAW,GACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,CADJ,CADJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKC,OADL,CALJ,CAFJ,CADJ;AAeH;;AAAA;AAID,WAAOD,WAAP;AACH;;AAxDiC;;AA2DtC,eAAenB,cAAf","sourcesContent":["import React, { Component } from 'react';\n\n/* como hemos importado el componente directamente, no hace falta poner abajo React.Component\n */\nclass ListarUsuarios extends Component{\n   \n    componentDidMount(){\n        this.state=null; //aunk es redundante\n\n        let promesaHTTP = window.fetch('http://127.0.0.1:4000/api/usuarios/');\n        promesaHTTP.then((res) => {\n            let promesaJSON = res.json();\n            //cuando por fin recibimos la coleccion y ha sido convertido en JSON\n            promesaJSON.then((objColeccionUsu)=>{\n                     console.log(JSON.stringify(objColeccionUsu));\n                     this.setState({\n                         listarUsuarios:objColeccionUsu\n                     });\n            });\n        });\n\n    }\n    componentWillUnmount(){\n            //Aki se ejecuta cuando se desmonta el componente\n    }\n    render(){\n\n        //TODO: Condicional, si\n        let objViDomJSX;\n        if(this.state===null){   //si todo va bien\n            objViDomJSX = (<p>Cargando...</p>);\n        } else{\n            \n            let filasTr = this.state.listarUsuarios.map((usu)=>(\n               \n                     <tr key={usu._id}>\n                                <td>{usu.nombre}</td>\n                                <td>{usu.email}</td>\n                            </tr>\n            ));\n            objViDomJSX = (\n                <div>\n                    <h2>Lista de usuarios</h2>\n                    <table>\n                        <thead>\n                            <tr><th>Nombre</th>\n                            <th>Email</th></tr>\n                        </thead>\n                        <tbody>\n                            {filasTr}\n                            \n                        </tbody>\n                    </table>\n                </div>\n            );\n        };\n\n        \n       \n        return objViDomJSX;\n    }\n}\n\nexport default ListarUsuarios;"]},"metadata":{},"sourceType":"module"}